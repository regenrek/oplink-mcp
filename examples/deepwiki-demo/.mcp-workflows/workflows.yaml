deepwiki_lookup:
  description: "Ask DeepWiki a question about a GitHub repository"
  runtime: scripted
  parameters:
    repo:
      type: "string"
      description: "owner/repo, e.g. facebook/react"
      required: true
    question:
      type: "string"
      description: "Question to ask about the repository"
      required: true
  steps:
    - call: deepwiki:ask_question
      args:
        repoName: "{{ repo }}"
        question: "{{ question }}"

deepwiki_auto:
  description: "Auto-discover and proxy DeepWiki tools"
  prompt: |
    You expose all tools discovered from the DeepWiki MCP server.
    Accept a JSON object with fields:
      - tool: the tool name to run (e.g., deepwiki:ask_question)
      - args (optional): arguments for the tool call
    Use describe_tools({ "workflow": "deepwiki_auto" }) to discover available tools.
  externalServers:
    - deepwiki
