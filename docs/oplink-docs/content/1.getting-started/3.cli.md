---
title: CLI
description: Overview of OPLINK CLI usage
navigation.icon: i-heroicons-command-line
---

The OPLINK CLI lets you scaffold configs, add presets, and run the MCP server that exposes your workflows to IDEs/agents.

## Quick Reference

- `oplink init` – create a minimal project config and `.mcp-workflows` folder
- `oplink add <preset|giget>` – add a built‑in preset or fetch one from a remote source
- `oplink server` – start the MCP stdio server (used by IDE MCP integrations)
- `oplink config get` – print the resolved `oplink.config.mjs`
 - `oplink validate` – validate `.mcp-workflows/workflows.yaml` and `servers.json`
 - `oplink scaffold workflow <name>` – append a new prompt or scripted workflow block

Tip: run any command with `--help` to see flags.

## Commands

- **`oplink init`**
  Initialize Oplink in a project. Creates `.mcp-workflows/` and `oplink.config.mjs` if missing.
  ```bash
  npx oplink init
  ```
  Options:
  - `--dir <directory>` – target directory (default `.`)
  - `--ide <cursor|windsurf|cline|rootcode|headless>` – prefill IDE hints (defaults to auto‑detect)
  - `--cwd <directory>` – working directory (advanced)

- **`oplink add <preset>`**
  Add a built‑in preset or pull one from a remote (giget) source into `.mcp-workflows`.
  ```bash
  npx oplink add coding
  ```
  or
  ```bash
  npx oplink add github:user/repo/path
  ```
  Options:
  - `--force` – overwrite existing file/directory
  - `--cwd <dir>` – custom working directory

- **`oplink server`**
  Start the MCP stdio server. Use either a quick preset or a local workflows directory.
  ```bash
  # Quick start: no local files required
  npx oplink server --preset thinking

  # Use your project workflows
  npx oplink server --config ./.mcp-workflows
  ```
  Options:
  - `--preset <name[,name]>` – comma‑separated presets (defaults to `thinking` if neither `--preset` nor `--config` is given)
  - `--config <path>` – directory named `.mcp-workflows` or `.workflows`
  - `--presetsDir <path>` – custom directory with preset YAML files (advanced)
  - `--cwd <dir>` – working directory
  - `--logLevel <silent|info|verbose>` – control diagnostic output

- **`oplink config get`**
  Print the resolved Oplink config (if present).
  ```bash
  npx oplink config get
  ```

- **`oplink validate`**
  Validate your `.mcp-workflows` files against the official schemas.
  ```bash
  npx oplink validate --config ./.mcp-workflows
  ```

- **`oplink scaffold workflow <name>`**
  Append a valid workflow block (prompt by default, add `--scripted` for steps).
  ```bash
  npx oplink scaffold workflow take_screenshot --scripted
  ```

## Examples

1. **Initialize in `my-project`**:
   ```bash
   npx oplink init --dir my-project
   ```
2. **Add a built-in preset**:
   ```bash
   npx oplink add coding
   ```
3. **Add from a giget source**:
   ```bash
   npx oplink add github:username/presets/coding
   ```
4. **Run with presets only (no project files)**:
   ```bash
   npx oplink server --preset thinking
   ```
5. **Run against a project workflows directory**:
   ```bash
   npx oplink server --config ./.mcp-workflows
   ```

## Environment & .env

- Oplink automatically loads `.env` files from your `--config` directory before expanding `${VAR}` in `.mcp-workflows/servers.json`.
  - Precedence: shell > `.env.{NODE_ENV}.local` > `.env.{NODE_ENV}` > `.env.local` > `.env`.
  - Shell‑exported values always win (they are never overridden by files).
- You can still export variables in your shell or configure env in your IDE’s MCP entry; those take precedence over `.env`.
- After loading `.env`, any unresolved `${VAR}` placeholders will cause startup to fail with a clear error.

## Notes

- The server speaks MCP JSON‑RPC on STDOUT and writes diagnostics to STDERR, so keep STDOUT clean in custom scripts.
- There is no `oplink run` command; IDEs call tools through the MCP server you start with `oplink server`.

For more details, see [Installation](./2.installation) and [Workflows](/3.workflows/1-overview).
